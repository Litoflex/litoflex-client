{"version":3,"sources":["turbopack:///[project]/src/lib/catalogue.ts","turbopack:///[project]/src/app/category/[id]/CatClient.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/category/[id]/page.tsx"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\n\nexport interface Catalogue {\n\tkey: string;\n\ttitle: string;\n\timg: string;\n\titems: CatalogueItem[];\n}\n\nexport interface CatalogueItem {\n\tname: string;\n\tarticle: string;\n\timg: string;\n\tsize: string;\n\tprice: string;\n\twidth: string;\n}\n\n/* ===== Чтение файла ===== */\n\nconst filePath = path.join(\n\tprocess.cwd(),\n\t\"public\",\n\t\"items.dat\"\n);\nconst raw = fs.readFileSync(filePath, \"utf-8\");\n\nconst lines = raw.split(\"\\n\");\n\nconst catalogueData: Catalogue[] = [];\n\nlet currentCategory: Catalogue | null = null;\nlet currentItem: Partial<CatalogueItem> | null = null;\n\nfor (const rawLine of lines) {\n\tconst line = rawLine.trim();\n\tif (!line) continue;\n\n\tconst categoryMatch = line.match(/^~~~\\s*(.+?)\\s*~~~$/);\n\tif (categoryMatch) {\n\t\tconst key = categoryMatch[1];\n\n\t\tif (currentCategory) {\n\t\t\tif (currentItem) {\n\t\t\t\tcurrentCategory.items.push(\n\t\t\t\t\tcurrentItem as CatalogueItem\n\t\t\t\t);\n\t\t\t\tcurrentItem = null;\n\t\t\t}\n\t\t\tcatalogueData.push(currentCategory);\n\t\t\tcurrentCategory = null;\n\t\t} else {\n\t\t\tcurrentCategory = {\n\t\t\t\tkey,\n\t\t\t\ttitle: \"\",\n\t\t\t\timg: \"\",\n\t\t\t\titems: [],\n\t\t\t};\n\t\t}\n\t\tcontinue;\n\t}\n\n\tif (!currentCategory) continue;\n\n\tif (line.startsWith(\"Название:\")) {\n\t\tcurrentCategory.title = line\n\t\t\t.replace(\"Название:\", \"\")\n\t\t\t.trim();\n\t\tcontinue;\n\t}\n\n\tif (line.startsWith(\"Изображение:\") && !currentItem) {\n\t\tcurrentCategory.img = line\n\t\t\t.replace(\"Изображение:\", \"\")\n\t\t\t.trim();\n\t\tcontinue;\n\t}\n\n\tif (/^\\d+\\.\\s+/.test(line)) {\n\t\tif (currentItem) {\n\t\t\tcurrentCategory.items.push(\n\t\t\t\tcurrentItem as CatalogueItem\n\t\t\t);\n\t\t}\n\n\t\tcurrentItem = {\n\t\t\tname: line.replace(/^\\d+\\.\\s+/, \"\").trim(),\n\t\t};\n\t\tcontinue;\n\t}\n\n\tif (currentItem) {\n\t\tif (line.startsWith(\"Артикль:\")) {\n\t\t\tcurrentItem.article = line\n\t\t\t\t.replace(\"Артикль:\", \"\")\n\t\t\t\t.trim();\n\t\t} else if (line.startsWith(\"Изображение:\")) {\n\t\t\tcurrentItem.img = line\n\t\t\t\t.replace(\"Изображение:\", \"\")\n\t\t\t\t.trim();\n\t\t} else if (line.startsWith(\"Размер:\")) {\n\t\t\tcurrentItem.size = line.replace(\"Размер:\", \"\").trim();\n\t\t} else if (line.startsWith(\"Цена:\")) {\n\t\t\tcurrentItem.price = line.replace(\"Цена:\", \"\").trim();\n\t\t} else if (line.startsWith(\"Ширина:\")) {\n\t\t\tcurrentItem.width = line\n\t\t\t\t.replace(\"Ширина:\", \"\")\n\t\t\t\t.trim();\n\t\t}\n\t}\n}\n\nexport default catalogueData;\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/category/[id]/CatClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/category/[id]/CatClient.tsx\",\n    \"default\",\n);\n","import catalogueData from \"@/lib/catalogue\";\nimport CategoryPageClient from \"./CatClient\";\n\nexport default function CategoryPage() {\n\treturn (\n\t\t<CategoryPageClient catalogueData={catalogueData} />\n\t);\n}\n"],"names":[],"mappings":"2XAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAqBA,IAAM,EApBN,AAoBiB,EApBjB,CAAA,CAAA,OAoBiB,OAAI,CAAC,IAAI,CACzB,QAAQ,GAAG,GACX,SACA,aAIK,EAFM,AAEE,EAFF,OAAE,CAAC,YAAY,CAAC,EAAU,SAEpB,KAAK,CAAC,MAElB,EAA6B,EAAE,CAEjC,EAAoC,KACpC,EAA6C,KAEjD,IAAK,IAAM,KAAW,EAAO,CAC5B,IAAM,EAAO,EAAQ,IAAI,GACzB,GAAI,CAAC,EAAM,SAEX,IAAM,EAAgB,EAAK,KAAK,CAAC,uBACjC,GAAI,EAAe,CAClB,IAAM,EAAM,CAAa,CAAC,EAAE,CAExB,GACC,IACH,EAAgB,KAAK,CAAC,CADN,CADG,EAEO,CACzB,GAED,EAAc,MAEf,EAAc,IAAI,CAAC,GACnB,EAAkB,MAElB,EAAkB,KACjB,EACA,MAAO,GACP,IAAK,GACL,MAAO,EAAE,AACV,EAED,QACD,CAEA,GAAK,CAAD,EAEJ,GAAI,EAAK,SAFa,CAEH,CAAC,aAAc,CACjC,EAAgB,KAAK,CAAG,EACtB,OAAO,CAAC,YAAa,IACrB,IAAI,GACN,QACD,CAEA,GAAI,EAAK,UAAU,CAAC,iBAAmB,CAAC,EAAa,CACpD,EAAgB,GAAG,CAAG,EACpB,OAAO,CAAC,eAAgB,IACxB,IAAI,GACN,QACD,CAEA,GAAI,YAAY,IAAI,CAAC,GAAO,CACvB,GACH,EAAgB,KAAK,CAAC,EADN,EACU,CACzB,GAIF,EAAc,CACb,KAAM,EAAK,OAAO,CAAC,YAAa,IAAI,IAAI,EACzC,EACA,QACD,CAEI,IACC,EAAK,OADO,GACG,CAAC,YACnB,CADgC,CACpB,OAAO,CAAG,EACpB,OAAO,CAAC,WAAY,IACpB,IAAI,GACI,EAAK,UAAU,CAAC,gBAC1B,CAD2C,CAC/B,GAAG,CAAG,EAChB,OAAO,CAAC,eAAgB,IACxB,IAAI,GACI,EAAK,UAAU,CAAC,WAC1B,CADsC,CAC1B,IAAI,CAAG,EAAK,OAAO,CAAC,UAAW,IAAI,IAAI,GACzC,EAAK,UAAU,CAAC,SAC1B,CADoC,CACxB,KAAK,CAAG,EAAK,OAAO,CAAC,QAAS,IAAI,IAAI,GACxC,EAAK,UAAU,CAAC,YAAY,CACtC,EAAY,KAAK,CAAG,EAClB,OAAO,CAAC,UAAW,IACnB,IAAI,EAAA,GAGT,kBAEe,kCC/GA,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,qSAAuS,EACpU,oEACA,6DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iRAAmR,EAChT,gDACA,kICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACvB,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CAAC,cAAe,EAAA,OAAa,EAElD","ignoreList":[1]}