{"version":3,"sources":["turbopack:///[project]/src/lib/catalogue.ts","turbopack:///[project]/src/app/category/[id]/CatClient.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/category/[id]/page.tsx"],"sourcesContent":["import fs from \"fs\";\r\nimport path from \"path\";\r\n\r\nexport interface Catalogue {\r\n\tkey: string;\r\n\ttitle: string;\r\n\timg: string;\r\n\titems: CatalogueItem[];\r\n}\r\n\r\nexport interface CatalogueItem {\r\n\tname: string;\r\n\tarticle: string;\r\n\timg: string;\r\n\tsize: string;\r\n\tprice: string;\r\n\twidth: string;\r\n}\r\n\r\n/* ===== Чтение файла ===== */\r\n\r\nconst filePath = path.join(\r\n\tprocess.cwd(),\r\n\t\"public\",\r\n\t\"items.dat\"\r\n);\r\nconst raw = fs.readFileSync(filePath, \"utf-8\");\r\n\r\nconst lines = raw.split(\"\\n\");\r\n\r\nconst catalogueData: Catalogue[] = [];\r\n\r\nlet currentCategory: Catalogue | null = null;\r\nlet currentItem: Partial<CatalogueItem> | null = null;\r\n\r\nfor (const rawLine of lines) {\r\n\tconst line = rawLine.trim();\r\n\tif (!line) continue;\r\n\r\n\tconst categoryMatch = line.match(/^~~~\\s*(.+?)\\s*~~~$/);\r\n\tif (categoryMatch) {\r\n\t\tconst key = categoryMatch[1];\r\n\r\n\t\tif (currentCategory) {\r\n\t\t\tif (currentItem) {\r\n\t\t\t\tcurrentCategory.items.push(\r\n\t\t\t\t\tcurrentItem as CatalogueItem\r\n\t\t\t\t);\r\n\t\t\t\tcurrentItem = null;\r\n\t\t\t}\r\n\t\t\tcatalogueData.push(currentCategory);\r\n\t\t\tcurrentCategory = null;\r\n\t\t} else {\r\n\t\t\tcurrentCategory = {\r\n\t\t\t\tkey,\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\timg: \"\",\r\n\t\t\t\titems: [],\r\n\t\t\t};\r\n\t\t}\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif (!currentCategory) continue;\r\n\r\n\tif (line.startsWith(\"Название:\")) {\r\n\t\tcurrentCategory.title = line\r\n\t\t\t.replace(\"Название:\", \"\")\r\n\t\t\t.trim();\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif (line.startsWith(\"Изображение:\") && !currentItem) {\r\n\t\tcurrentCategory.img = line\r\n\t\t\t.replace(\"Изображение:\", \"\")\r\n\t\t\t.trim();\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif (/^\\d+\\.\\s+/.test(line)) {\r\n\t\tif (currentItem) {\r\n\t\t\tcurrentCategory.items.push(\r\n\t\t\t\tcurrentItem as CatalogueItem\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tcurrentItem = {\r\n\t\t\tname: line.replace(/^\\d+\\.\\s+/, \"\").trim(),\r\n\t\t};\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif (currentItem) {\r\n\t\tif (line.startsWith(\"Артикль:\")) {\r\n\t\t\tcurrentItem.article = line\r\n\t\t\t\t.replace(\"Артикль:\", \"\")\r\n\t\t\t\t.trim();\r\n\t\t} else if (line.startsWith(\"Изображение:\")) {\r\n\t\t\tcurrentItem.img = line\r\n\t\t\t\t.replace(\"Изображение:\", \"\")\r\n\t\t\t\t.trim();\r\n\t\t} else if (line.startsWith(\"Размер:\")) {\r\n\t\t\tcurrentItem.size = line.replace(\"Размер:\", \"\").trim();\r\n\t\t} else if (line.startsWith(\"Цена:\")) {\r\n\t\t\tcurrentItem.price = line.replace(\"Цена:\", \"\").trim();\r\n\t\t} else if (line.startsWith(\"Ширина:\")) {\r\n\t\t\tcurrentItem.width = line\r\n\t\t\t\t.replace(\"Ширина:\", \"\")\r\n\t\t\t\t.trim();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default catalogueData;\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/category/[id]/CatClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/category/[id]/CatClient.tsx\",\n    \"default\",\n);\n","import catalogueData from \"@/lib/catalogue\";\r\nimport CategoryPageClient from \"./CatClient\";\r\n\r\nexport default function CategoryPage() {\r\n\treturn (\r\n\t\t<CategoryPageClient catalogueData={catalogueData} />\r\n\t);\r\n}\r\n"],"names":[],"mappings":"2XAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAqBA,IAAM,EApBN,AAoBiB,EApBjB,CAAA,CAAA,OAoBiB,OAAI,CAAC,IAAI,CACzB,QAAQ,GAAG,GACX,SACA,aAIK,EAFM,AAEE,EAFF,OAAE,CAAC,YAAY,CAAC,EAAU,SAEpB,KAAK,CAAC,MAElB,EAA6B,EAAE,CAEjC,EAAoC,KACpC,EAA6C,KAEjD,IAAK,IAAM,KAAW,EAAO,CAC5B,IAAM,EAAO,EAAQ,IAAI,GACzB,GAAI,CAAC,EAAM,SAEX,IAAM,EAAgB,EAAK,KAAK,CAAC,uBACjC,GAAI,EAAe,CAClB,IAAM,EAAM,CAAa,CAAC,EAAE,CAExB,GACC,IACH,EAAgB,KAAK,CAAC,CADN,CADG,EAEO,CACzB,GAED,EAAc,MAEf,EAAc,IAAI,CAAC,GACnB,EAAkB,MAElB,EAAkB,KACjB,EACA,MAAO,GACP,IAAK,GACL,MAAO,EAAE,AACV,EAED,QACD,CAEA,GAAK,CAAD,EAEJ,GAAI,EAAK,SAFa,CAEH,CAAC,aAAc,CACjC,EAAgB,KAAK,CAAG,EACtB,OAAO,CAAC,YAAa,IACrB,IAAI,GACN,QACD,CAEA,GAAI,EAAK,UAAU,CAAC,iBAAmB,CAAC,EAAa,CACpD,EAAgB,GAAG,CAAG,EACpB,OAAO,CAAC,eAAgB,IACxB,IAAI,GACN,QACD,CAEA,GAAI,YAAY,IAAI,CAAC,GAAO,CACvB,GACH,EAAgB,KAAK,CAAC,EADN,EACU,CACzB,GAIF,EAAc,CACb,KAAM,EAAK,OAAO,CAAC,YAAa,IAAI,IAAI,EACzC,EACA,QACD,CAEI,IACC,EAAK,OADO,GACG,CAAC,YACnB,CADgC,CACpB,OAAO,CAAG,EACpB,OAAO,CAAC,WAAY,IACpB,IAAI,GACI,EAAK,UAAU,CAAC,gBAC1B,CAD2C,CAC/B,GAAG,CAAG,EAChB,OAAO,CAAC,eAAgB,IACxB,IAAI,GACI,EAAK,UAAU,CAAC,WAC1B,CADsC,CAC1B,IAAI,CAAG,EAAK,OAAO,CAAC,UAAW,IAAI,IAAI,GACzC,EAAK,UAAU,CAAC,SAC1B,CADoC,CACxB,KAAK,CAAG,EAAK,OAAO,CAAC,QAAS,IAAI,IAAI,GACxC,EAAK,UAAU,CAAC,YAAY,CACtC,EAAY,KAAK,CAAG,EAClB,OAAO,CAAC,UAAW,IACnB,IAAI,EAAA,GAGT,kBAEe,kCC/GA,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,qSAAuS,EACpU,oEACA,6DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iRAAmR,EAChT,gDACA,kICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACvB,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CAAC,cAAe,EAAA,OAAa,EAElD","ignoreList":[1]}