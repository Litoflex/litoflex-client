{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ma540/OneDrive/%D0%A0%D0%BE%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D1%96%D0%BB/Projects/litoflex-client/src/components/specific/AdminCategory.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AdminCategory } from \"@/data/adminData\";\r\nimport catalogueData, {\r\n\tCatalogueItem,\r\n} from \"@/data/catalogueData\";\r\nimport {\r\n\tButton,\r\n\tForm,\r\n\tInput,\r\n\tInputNumber,\r\n\tPopconfirm,\r\n\tTable,\r\n\tTableProps,\r\n} from \"antd\";\r\nimport Image from \"next/image\";\r\nimport { useState } from \"react\";\r\n\r\ntype DataType = CatalogueItem & {\r\n\tkey: string;\r\n};\r\n\r\ninterface EditableCellProps\r\n\textends React.HTMLAttributes<HTMLElement> {\r\n\tediting: boolean;\r\n\tdataIndex: string;\r\n\ttitle: any;\r\n\tinputType: \"number\" | \"text\";\r\n\trecord: DataType;\r\n\tindex: number;\r\n}\r\n\r\nconst EditableCell: React.FC<\r\n\tReact.PropsWithChildren<EditableCellProps>\r\n> = ({\r\n\tediting,\r\n\tdataIndex,\r\n\ttitle,\r\n\tinputType,\r\n\trecord,\r\n\tindex,\r\n\tchildren,\r\n\t...restProps\r\n}) => {\r\n\tconst inputNode =\r\n\t\tinputType === \"number\" ? <InputNumber /> : <Input />;\r\n\r\n\treturn (\r\n\t\t<td {...restProps}>\r\n\t\t\t{editing ? (\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname={dataIndex}\r\n\t\t\t\t\tstyle={{ margin: 0 }}\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: `${title}!`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t{inputNode}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (\r\n\t\t\t\tchildren\r\n\t\t\t)}\r\n\t\t</td>\r\n\t);\r\n};\r\n\r\ntype Props = {\r\n\tcatData: AdminCategory;\r\n};\r\nexport default function AdminCategoryTemplate({\r\n\tcatData,\r\n}: Props) {\r\n\tconst originData = catData.data.map((itm, i) => ({\r\n\t\tkey: itm.article + i.toString(),\r\n\t\t...itm,\r\n\t}));\r\n\r\n\tconst [form] = Form.useForm();\r\n\tconst [data, setData] = useState<DataType[]>(originData);\r\n\tconst [editingKey, setEditingKey] = useState(\"\");\r\n\r\n\tconst isEditing = (record: DataType) =>\r\n\t\trecord.key === editingKey;\r\n\r\n\tconst edit = (\r\n\t\trecord: Partial<DataType> & { key: React.Key }\r\n\t) => {\r\n\t\tform.setFieldsValue({\r\n\t\t\t...record,\r\n\t\t});\r\n\t\tsetEditingKey(record.key);\r\n\t};\r\n\r\n\tconst cancel = () => {\r\n\t\tsetEditingKey(\"\");\r\n\t};\r\n\r\n\tconst save = async (key: React.Key) => {\r\n\t\ttry {\r\n\t\t\tconst row = (await form.validateFields()) as DataType;\r\n\r\n\t\t\tconst newData = [...data];\r\n\t\t\tconst index = newData.findIndex(\r\n\t\t\t\t(item) => key === item.key\r\n\t\t\t);\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tconst item = newData[index];\r\n\t\t\t\tnewData.splice(index, 1, {\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\t...row,\r\n\t\t\t\t});\r\n\t\t\t\tsetData(newData);\r\n\t\t\t\tsetEditingKey(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tnewData.push(row);\r\n\t\t\t\tsetData(newData);\r\n\t\t\t\tsetEditingKey(\"\");\r\n\t\t\t}\r\n\t\t} catch (errInfo) {\r\n\t\t\tconsole.log(\"Validate Failed:\", errInfo);\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"article\",\r\n\t\t\tdataIndex: \"article\",\r\n\t\t\ttitle: \"Артикль\",\r\n\t\t\teditable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"img\",\r\n\t\t\tdataIndex: \"img\",\r\n\t\t\ttitle: \"Картинка\",\r\n\t\t\teditable: true,\r\n\t\t\trender: (path: string, record: DataType) =>\r\n\t\t\t\t!isEditing(record) ? (\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\talt=\"item-img\"\r\n\t\t\t\t\t\twidth={75}\r\n\t\t\t\t\t\theight={75}\r\n\t\t\t\t\t\tsrc={path}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tpath\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"size\",\r\n\t\t\tdataIndex: \"size\",\r\n\t\t\ttitle: \"Размер\",\r\n\t\t\teditable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"price\",\r\n\t\t\tdataIndex: \"price\",\r\n\t\t\ttitle: \"Цена\",\r\n\t\t\teditable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Действие\",\r\n\t\t\tdataIndex: \"operation\",\r\n\t\t\twidth: 230,\r\n\t\t\trender: (_: any, record: DataType) => {\r\n\t\t\t\tconst editable = isEditing(record);\r\n\t\t\t\treturn editable ? (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\tonClick={() => save(record.key)}\r\n\t\t\t\t\t\t\tstyle={{ marginInlineEnd: 8 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Хотите отменить?\"\r\n\t\t\t\t\t\t\tonConfirm={cancel}\r\n\t\t\t\t\t\t\tcancelText=\"Нет\"\r\n\t\t\t\t\t\t\tokText=\"Да\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button variant=\"link\" color=\"red\">\r\n\t\t\t\t\t\t\t\tОтменить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tdisabled={editingKey !== \"\"}\r\n\t\t\t\t\t\t\tonClick={() => edit(record)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tИзменить\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button variant=\"link\" color=\"red\">\r\n\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconst mergedColumns: TableProps<DataType>[\"columns\"] =\r\n\t\tcolumns.map((col) => {\r\n\t\t\tif (!col.editable) {\r\n\t\t\t\treturn col;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...col,\r\n\t\t\t\tonCell: (record: DataType) => ({\r\n\t\t\t\t\trecord,\r\n\t\t\t\t\tinputType: \"text\",\r\n\t\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\t\ttitle: col.title,\r\n\t\t\t\t\tediting: isEditing(record),\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1 className=\"text-center font-bold text-2xl mb-5\">\r\n\t\t\t\t~ {catData.title} ~\r\n\t\t\t</h1>\r\n\r\n\t\t\t<Form form={form} component={false}>\r\n\t\t\t\t<Table<DataType>\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tbody: { cell: EditableCell },\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tbordered\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\tcolumns={mergedColumns}\r\n\t\t\t\t\trowClassName=\"editable-row\"\r\n\t\t\t\t\tpagination={{ onChange: cancel }}\r\n\t\t\t\t/>\r\n\t\t\t</Form>\r\n\r\n\t\t\t{/* <Table\r\n\t\t\t\tdataSource={catalogueData[0].items}\r\n\t\t\t\tcolumns={cols}\r\n\t\t\t/> */}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"names":[],"mappings":";;;;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAhBA;;;;;AAgCA,MAAM,eAEF,CAAC,EACJ,OAAO,EACP,SAAS,EACT,KAAK,EACL,SAAS,EACT,MAAM,EACN,KAAK,EACL,QAAQ,EACR,GAAG,WACH;IACA,MAAM,YACL,cAAc,yBAAW,8OAAC,+MAAW;;;;iEAAM,8OAAC,yLAAK;;;;;IAElD,qBACC,8OAAC;QAAI,GAAG,SAAS;kBACf,wBACA,8OAAC,sLAAI,CAAC,IAAI;YACT,MAAM;YACN,OAAO;gBAAE,QAAQ;YAAE;YACnB,OAAO;gBACN;oBACC,UAAU;oBACV,SAAS,GAAG,MAAM,CAAC,CAAC;gBACrB;aACA;sBAEA;;;;;uDAGF;;;;;;AAIJ;AAKe,SAAS,sBAAsB,EAC7C,OAAO,EACA;IACP,MAAM,aAAa,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,IAAM,CAAC;YAChD,KAAK,IAAI,OAAO,GAAG,EAAE,QAAQ;YAC7B,GAAG,GAAG;QACP,CAAC;IAED,MAAM,CAAC,KAAK,GAAG,sLAAI,CAAC,OAAO;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,YAAY,CAAC,SAClB,OAAO,GAAG,KAAK;IAEhB,MAAM,OAAO,CACZ;QAEA,KAAK,cAAc,CAAC;YACnB,GAAG,MAAM;QACV;QACA,cAAc,OAAO,GAAG;IACzB;IAEA,MAAM,SAAS;QACd,cAAc;IACf;IAEA,MAAM,OAAO,OAAO;QACnB,IAAI;YACH,MAAM,MAAO,MAAM,KAAK,cAAc;YAEtC,MAAM,UAAU;mBAAI;aAAK;YACzB,MAAM,QAAQ,QAAQ,SAAS,CAC9B,CAAC,OAAS,QAAQ,KAAK,GAAG;YAE3B,IAAI,QAAQ,CAAC,GAAG;gBACf,MAAM,OAAO,OAAO,CAAC,MAAM;gBAC3B,QAAQ,MAAM,CAAC,OAAO,GAAG;oBACxB,GAAG,IAAI;oBACP,GAAG,GAAG;gBACP;gBACA,QAAQ;gBACR,cAAc;YACf,OAAO;gBACN,QAAQ,IAAI,CAAC;gBACb,QAAQ;gBACR,cAAc;YACf;QACD,EAAE,OAAO,SAAS;YACjB,QAAQ,GAAG,CAAC,oBAAoB;QACjC;IACD;IAEA,MAAM,UAAU;QACf;YACC,KAAK;YACL,WAAW;YACX,OAAO;YACP,UAAU;QACX;QACA;YACC,KAAK;YACL,WAAW;YACX,OAAO;YACP,UAAU;YACV,QAAQ,CAAC,MAAc,SACtB,CAAC,UAAU,wBACV,8OAAC,wIAAK;oBACL,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,KAAK;;;;;2BAGN;QAEH;QACA;YACC,KAAK;YACL,WAAW;YACX,OAAO;YACP,UAAU;QACX;QACA;YACC,KAAK;YACL,WAAW;YACX,OAAO;YACP,UAAU;QACX;QACA;YACC,OAAO;YACP,WAAW;YACX,OAAO;YACP,QAAQ,CAAC,GAAQ;gBAChB,MAAM,WAAW,UAAU;gBAC3B,OAAO,yBACN,8OAAC;;sCACA,8OAAC,4MAAM;4BACN,SAAQ;4BACR,OAAM;4BACN,SAAS,IAAM,KAAK,OAAO,GAAG;4BAC9B,OAAO;gCAAE,iBAAiB;4BAAE;sCAC5B;;;;;;sCAGD,8OAAC,wMAAU;4BACV,OAAM;4BACN,WAAW;4BACX,YAAW;4BACX,QAAO;sCAEP,cAAA,8OAAC,4MAAM;gCAAC,SAAQ;gCAAO,OAAM;0CAAM;;;;;;;;;;;;;;;;yCAMrC;;sCACC,8OAAC,4MAAM;4BACN,MAAK;4BACL,UAAU,eAAe;4BACzB,SAAS,IAAM,KAAK;sCACpB;;;;;;sCAGD,8OAAC,4MAAM;4BAAC,SAAQ;4BAAO,OAAM;sCAAM;;;;;;;;YAKtC;QACD;KACA;IAED,MAAM,gBACL,QAAQ,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,IAAI,QAAQ,EAAE;YAClB,OAAO;QACR;QACA,OAAO;YACN,GAAG,GAAG;YACN,QAAQ,CAAC,SAAqB,CAAC;oBAC9B;oBACA,WAAW;oBACX,WAAW,IAAI,SAAS;oBACxB,OAAO,IAAI,KAAK;oBAChB,SAAS,UAAU;gBACpB,CAAC;QACF;IACD;IAED,qBACC,8OAAC;;0BACA,8OAAC;gBAAG,WAAU;;oBAAsC;oBAChD,QAAQ,KAAK;oBAAC;;;;;;;0BAGlB,8OAAC,sLAAI;gBAAC,MAAM;gBAAM,WAAW;0BAC5B,cAAA,8OAAC,yLAAK;oBACL,YAAY;wBACX,MAAM;4BAAE,MAAM;wBAAa;oBAC5B;oBACA,QAAQ;oBACR,YAAY;oBACZ,SAAS;oBACT,cAAa;oBACb,YAAY;wBAAE,UAAU;oBAAO;;;;;;;;;;;;;;;;;AAUpC","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ma540/OneDrive/%D0%A0%D0%BE%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D1%96%D0%BB/Projects/litoflex-client/src/app/admin/i/cat1/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport AdminCategoryTemplate from \"@/components/specific/AdminCategory\";\r\nimport adminData from \"@/data/adminData\";\r\n\r\nexport default function AdminCat1Page() {\r\n\treturn (\r\n\t\t<AdminCategoryTemplate\r\n\t\t\tcatData={adminData.categories[0]}\r\n\t\t/>\r\n\t);\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACvB,qBACC,8OAAC,0JAAqB;QACrB,SAAS,mIAAS,CAAC,UAAU,CAAC,EAAE;;;;;;AAGnC","debugId":null}}]
}