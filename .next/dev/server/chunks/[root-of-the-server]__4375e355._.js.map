{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Intel/Desktop/litoflex-client/src/app/api/telegram/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport nodemailer from \"nodemailer\";\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json();\n    const { name, phone, comment } = body;\n\n    if (!name || !phone) {\n      return NextResponse.json(\n        { error: \"Invalid data\" },\n        { status: 400 }\n      );\n    }\n\n    const transporter = nodemailer.createTransport({\n      host: \"smtp.yandex.ru\",\n      port: 465,\n      secure: true,\n      auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS,\n      },\n    });\n\n    const html = `\n      <h2>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞ LITOFLEX</h2>\n      <table style=\"border-collapse:collapse;font-size:16px;\">\n        <tr><td style=\"padding:8px 16px;font-weight:bold;\">üë§ –ò–º—è:</td><td style=\"padding:8px 16px;\">${name}</td></tr>\n        <tr><td style=\"padding:8px 16px;font-weight:bold;\">üìû –¢–µ–ª–µ—Ñ–æ–Ω:</td><td style=\"padding:8px 16px;\"><a href=\"tel:${phone}\">${phone}</a></td></tr>\n        <tr><td style=\"padding:8px 16px;font-weight:bold;\">üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</td><td style=\"padding:8px 16px;\">${comment || \"‚Äî\"}</td></tr>\n      </table>\n      <br>\n      <p style=\"color:#888;font-size:13px;\">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å —Å–∞–π—Ç–∞ litoflex.by</p>\n    `;\n\n    await transporter.sendMail({\n      from: `\"LITOFLEX –°–∞–π—Ç\" <${process.env.SMTP_USER}>`,\n      to: process.env.SMTP_USER,\n      subject: `–ó–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞ ‚Äî ${name}`,\n      html,\n    });\n\n    return NextResponse.json({ success: true });\n  } catch (e) {\n    console.error(\"Email error:\", e);\n    return NextResponse.json(\n      { error: \"Server error\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG;QAEjC,IAAI,CAAC,QAAQ,CAAC,OAAO;YACnB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAe,GACxB;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,MAAM;YACN,MAAM;YACN,QAAQ;YACR,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;QACF;QAEA,MAAM,OAAO,CAAC;;;qGAGmF,EAAE,KAAK;sHACU,EAAE,MAAM,EAAE,EAAE,MAAM;6GAC3B,EAAE,WAAW,IAAI;;;;IAI1H,CAAC;QAED,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,CAAC,iBAAiB,EAAE,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YAClD,IAAI,QAAQ,GAAG,CAAC,SAAS;YACzB,SAAS,CAAC,iBAAiB,EAAE,MAAM;YACnC;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAe,GACxB;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}